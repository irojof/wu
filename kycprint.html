
<html>
<body>
	<input disabled hidden name="transaction_uuid" id="transaction_uuid">
	<input disabled hidden name="customer_uuid" id="customer_uuid">
	<input disabled hidden name="transaction_profile_type" id="transaction_profile_type">
	<table width="100%"  cellspacing="2">
		<th colspan="4">KYC</th>
		<tr>

			<td colspan="3"></td>
			<td>wu card nr:  <label id="customer_wu_card_number" name="customer_wu_card_number"></td>


			</tr>
			<tr>
				<td colspan="4"><u><b>PERSONALIA: (as on indetiftion)</b></u></td>
			</tr>
			<tr>

				<td colspan="4">Name (s): <label id="customer_first_name" name="customer_first_name"></label></td>

			</tr>
			<tr>
				<td colspan="4">Last Name (s): <label id="customer_last_name" name="customer_last_name"></label></td>
			</tr>
			<tr>
				<td colspan= "2">Date of Birth (DD/MM/YY): <label id="customer_date_birth" name="customer_date_birth"></label></td>
				<td colspan= "2">Born in city: <label id="customer_place_birth" name="customer_place_birth"></label></td>
			</tr>

			<tr>

				<td colspan= "2">Country of birth: <label id="country_id" name="country_id"></label></td>
				<select class="form-control input-lg" id="country" name="country" hidden>
					<option>Country ID?</option>

				</select>
				<td colspan= "2">Nationality: <label id="customer_nacionality" name="customer_nacionality"></label></td>
			</tr>
			<tr>

				<td height="30"></td>
			</tr>


			<tr><td><u><b>Identification</b></u></td>
				<td><input type="checkbox" id="customer_type_id_card_cedula" name="customer_type_id_card_cedula" value="" disabled>Aruban ID</td>
				<td><input type="checkbox" id="customer_type_id_card_licencia" name="customer_type_id_card_licencia" value="2" disabled>Aruban Driver's license</b><u></td>
					<td><input type="checkbox" id="customer_type_id_card_pasaporte" name="customer_type_id_card_pasaporte" value="3" disabled>Passport</td>

				</tr>
				<tr>

					<td align="center"colspan="4">Expiry date (DD/MM/YYY)</td>

				</tr>
				<tr>

					<td height="30"></td>
				</tr>

				<tr>

					<td><u><b>Residency</b><u></td>
						<td><input type="checkbox" id="customer_resident_r" name="customer_resident_r" value="1" disabled> Resident</td>
						<td colspan= "2"><input type="checkbox" id="customer_resident_nr" name="customer_resident_nr" value="2" disabled> Non Resident</b><u></td>

						</tr>
						<tr>
							<td colspan="4">Address (ARUBA): <label id="customer_address_1" name="customer_address_1"></label></td>
						</tr>
						<tr>
							<td colspan="2">City:  <label id="customer_city" name="customer_city"></label></td>
							<td colspan="2">Telephone #: <label id="customer_phone" name="customer_phone"></label></td>
						</tr>
						<tr>
							<td colspan="4">Email Address</td>
						</tr>

						<tr>
							<td colspan="4"><u><b>None Resident (most also fill in this section)</b><u></td>
							</tr>
							<tr>
								<td colspan="4">Address (abroad/foreign)</td>
							</tr>
							<tr>
								<td colspan="2">City / State: <label id="customer_state_province_region" name="customer_state_province_region"></label></td>
								<td colspan="2">Postal Code: <label id="customer_postal_code" name="customer_postal_code"></label></td>

							</tr>
							<tr>
								<td colspan="2">Country: <label id="country_id_address" name="country_id_address"></label></td>
								<td colspan="2">Telephone# abroad: <label id="customer_mobile" name="customer_mobile"></label></td>
							</tr>
							<tr>
								<td colspan="2">Reason for visiting aruba: <label id="customer_reason_visit" name="customer_reason_visit"></label></td>
								<td colspan="2">lenght of stay:  <label id="customer_length_stay" name="customer_length_stay"></label></td>
							</tr>
							<tr>
								<td colspan="4" bgcolor="gray"></td>
							</tr>
							<tr>

								<td height="30"></td>
							</tr>
							<tr>
								<td colspan="4"><u><b>INCOME STATEMANT</b><u></td>
								</tr>
								<tr>
									<td ><input type="checkbox" id="customer_income_option_1" name="customer_income_option_1" value=""disabled>Employed</td>
									<td ><input type="checkbox"id="customer_income_option_2" name="customer_income_option_2"  value=""disabled>Unemployed</td>
									<td colspan= "2">Since<label id="since" name="since"></label></td>
								</tr>
								<tr>
									<td colspan="4">Name company/Employer:  <label id="customer_employer_name" name="customer_employer_name"></label></td>
								</tr>
								<tr>
									<td colspan="2">Ocupation:  <label id="customer_occupation" name="customer_occupation"></label> </td>
									<td colspan="2">Department:  <label id="customer_department" name="customer_department"></label></td>
								</tr>
								<tr>
									<td colspan="2">Addres of company/emloyer:  <label id="customer_employer_address" name="customer_employer_address"></label> </td>
									<td colspan="2">telephone# Company/Employer:  <label id="customer_telnr_employer" name="customer_telnr_employer"></label></td>
								</tr>

								<tr>
                  <input type="hidden" name="customer_freq_sallary_pay" id="customer_freq_sallary_pay"/>
									<td colspan="1">Average netto salary <label id="customer_avg_net_sallary" name="customer_avg_net_sallary"></label> </td>
                  <td ><input type="checkbox" id="customer_freq_sallary_pay_daily_employed" name="customer_freq_sallary_pay_daily_employed"  value="1" disabled>Daily</td>
									<td ><input type="checkbox" id="customer_freq_sallary_pay_weekly_employed" name="customer_freq_sallary_pay_weekly_employed"  value="2" disabled>Weekly</td>
									<td ><input type="checkbox" id="customer_freq_sallary_pay_bi_weekly_employed" name="customer_freq_sallary_pay_bi_weekly_employed" value="3" disabled>Beweekly</td>
									<td ><input type="checkbox" id="customer_freq_sallary_pay_monthly_employed" name="customer_freq_sallary_pay_monthly_employed" value="4" disabled>Monthly</td>

								</tr>
								<tr>

									<td height="30"></td>
								</tr>
								<tr>
									<td colspan="4"><u><b>Aditional Income </b><u></td>
									</tr>
									<tr>
										<td>Type of income</label></td>

										<td ><input type="checkbox" id="customer_type_income_own_bussiness" name="customer_type_income_own_bussiness"value="1" disabled>Own Bussiness</td>
										<td ><input type="checkbox" id="customer_type_income_rent" name="customer_type_income_rent" value="2" disabled>Rent</td>
										<td ><input type="checkbox" id="customer_type_income_tips" name="customer_type_income_tips" value="3" disabled>Tips/comission</td>
										<td ><input type="checkbox" id="customer_type_income_other" name="customer_type_income_other" value="4" disabled>Other</td>

									</tr>
									<tr>
										<td colspan="4">Especify </label></td>

									</tr>
									<tr>
										<td>Average Netto Income</label> </td>
										<td ><input type="checkbox" id="customer_freq_sallary_pay_daily_unemployed" name="customer_freq_sallary_pay_daily_unemployed" value="1"disabled>Daily</td>
										<td ><input type="checkbox" id="customer_freq_sallary_pay_weekly_unemployed" name="customer_freq_sallary_pay_weekly_unemployed" value="2"disabled>Weekly</td>
										<td ><input type="checkbox" id="customer_freq_sallary_pay_bi_weekly_unemployed" name="customer_freq_sallary_pay_bi_weekly_unemployed" value="3"disabled>Bi-weekly</td>
										<td ><input type="checkbox" id="customer_freq_sallary_pay_monthly_unemployed" name="customer_freq_sallary_pay_monthly_unemployed" value="4"disabled>Monthly</td>
									</tr>
									<tr>

										<td height="30"></td>
									</tr>
									<tr>
										<td colspan="4"><u><b>Student</b><u></td>
										</tr>

										<tr>
											<td colspan="2">Name of School :  <label id="customer_school_name" name="customer_school_name"></label></td>
											<td colspan="2">Course grade:  <label id="customer_school_course_grade" name="customer_school_course_grade"></label></td>
										</tr>
										<tr>

											<td height="30"></td>
										</tr>

										<tr>
											<td colspan="2"><u><b>Pep</b><u></td>
												<td ><input type="checkbox" value="1"disabled id="customer_pep_yes" name="customer_pep_yes">Yes</td>
												<td ><input type="checkbox" value="2"disabled id="customer_pep_no" name="customer_pep_no">No</td>

											</tr>
											<tr>

												<td height="30"></td>
											</tr>
											<tr>

												<td colspan="4"><u><b>TRANSACTIONS</b><u></td>


												</tr>
												<tr>

													<td height="30"></td>
												</tr>

												<tr>

													<td colspan="4"><u><b>Outgoing Transactions/To send</b><u></td>


													</tr>
													<tr>

														<td colspan="4">How many transactions are you expect to "remit/send" monthly</td>
													</tr>
													<tr>
														<td colspan="4">What is the maximum amount are you expect to "remit/send" monthly</td>
													</tr>
													<tr>

														<td height="30"></td>
													</tr>

													<table id="tbl_transaction_profile_send" name="tbl_transaction_profile_send" border="3" width="50%">
														<thead>
															<tr>
																<th data-column-id="transaction_profle_full_name_ce">Name</th>
																<th data-column-id="transaction_profile_country_ce">Country</th>
																<th data-column-id="transaction_profle_full_name_ce">Relationship</th>
																<th data-column-id="transaction_profle_full_name_ce">Reason</th>
															</tr>
														</thead>
														<tbody>
														</tbody>
													</table>


													<tr>

														<td height="30"></td>
													</tr>


													<table width="100%" cellspacing="2">
														<tr>

															<td height="30"></td>
														</tr>
														<tr>

															<td colspan="4"><u><b>Incoming Transactions/To recieve</b></u></td>


														</tr>

														<tr>

															<td colspan="4">How many transactions are you expect to receive monthly</td>

														</tr>
														<tr>


															<td colspan="4">What is the maximum amount are you expect to receive monthly</td>
														</tr>
														<tr>

															<td height="30"></td>
														</tr>
													</table>
													<table id="tbl_transaction_profile_recieve" name="tbl_transaction_profile_recieve" border="3" width="50%">

														<thead>
															<tr>
																<th data-column-id="transaction_profle_full_name_ce">Name</th>
																<th data-column-id="transaction_profile_country_ce">Country</th>
																<th data-column-id="transaction_profle_full_name_ce">Relationship</th>
																<th data-column-id="transaction_profle_full_name_ce">Reason</th>
															</tr>
														</thead>
														<tbody>
														</tbody>
													</table>
												</table>

												<script src="vendors/bower_components/jquery/dist/jquery.min.js"></script>
												<script src="js/caribedev.js"></script>
												<script type="text/javascript">

												function getParam(key) {
													// Find the key and everything up to the ampersand delimiter
													var value = RegExp("" + key + "[^&]+").exec(window.location.search);

													// Return the unescaped value minus everything starting from the equals sign or an empty string
													return unescape(!!value ? value.toString().replace(/^[^=]+./, "") : "");
												}


												$(function () {

													caribedev_view_transaction('',getParam('transaction_uuid'),'');
													caribedev_view_customer('',getParam('customer_uuid'),'');

													caribedev_list_transaction_profile_send('',getParam('transaction_uuid'),'');
													caribedev_list_transaction_profile_recieve('',getParam('transaction_uuid'),'');

												});


												function caribedev_view_customer(channel, customer_uuid, user) {

													$method = 'GET';

													$url = caribedevelopers_server + "/customer/" + customer_uuid;
													$.getJSON($url, function (data) {

														if (data.code == 'OK') {
															caribedev_view_customer_ok(data);
														} else {

															caribedev_view_customer_error(data);
														}
													});
												}

												function caribedev_view_customer_ok(data) {



													if (data.customer.length > 0) {

														$('#customer_first_name').text(data.customer[0].customer_first_name);
														$('#customer_last_name').text(data.customer[0].customer_last_name);
														$('#customer_middle_name').text(data.customer[0].customer_middle_name);
														$('#customer_date_birth').text(data.customer[0].customer_date_birth);
														$('#customer_place_birth').text(data.customer[0].customer_place_birth);
														$('#customer_nacionality').text(data.customer[0].customer_nacionality);
														$('#customer_phone').text(data.customer[0].customer_phone);
														$('#customer_mobile').text(data.customer[0].customer_mobile);
														(data.customer[0].customer_resident ? $("#customer_resident_r[value='1']").prop("checked", "checked") : $("#customer_resident_nr[value='2']").prop("checked", "checked"));
														(data.customer[0].customer_pep ? $("#customer_pep_yes[value='1']").prop("checked", "checked") : $("#customer_pep_no[value='2']").prop("checked", "checked"));
														$('#customer_address_1').text((data.customer[0].customer_address_1));
														$('#customer_address_2').text((data.customer[0].customer_address_2));
														$('#customer_postal_code').text((data.customer[0].customer_postal_code));
														$('#customer_city').text((data.customer[0].customer_city));
														$('#country_id').text($('#country option[value="'+data.customer[0].country_id +'"]').text());
														$('#country_id_address').text($('#country option[value="'+data.customer[0].country_id +'"]').text());
														$('#customer_occupation').text((data.customer[0].customer_occupation));
														$('#customer_department').text((data.customer[0].customer_department));
														$('#customer_employer_name').text((data.customer[0].customer_employer_name));
														$('#customer_employer_address').text((data.customer[0].customer_employer_address));
														$('#customer_state_province_region').text((data.customer[0].customer_state_province_region));
														$('#customer_wu_card_number').text((data.customer[0].customer_wu_card_number));
														$('#customer_avg_net_sallary').text((data.customer[0].customer_avg_net_sallary));

														if (data.customer[0].customer_type_id_card == "1") {
															$('#customer_type_id_card_cedula').prop('checked', 'checked');
														}
														else if (data.customer[0].customer_type_id_card == "2") {
															$('#customer_type_id_card_licencia').prop('checked', 'checked');
														}
														else if (data.customer[0].customer_type_id_card == "3") {
															$('#customer_type_id_card_pasaporte').prop('checked', 'checked');
														}

                        //Employed & Unemployed
                            if (data.customer[0].since !="") {
                              $('#customer_income_option_2').prop('checked', 'checked');
                            }else{
                              $('#customer_income_option_1').prop('checked', 'checked');
                            }



														// Rule: No resident
														if (!data.customer[0].customer_resident) {
															$('#customer_length_stay').text(data.customer[0].customer_length_stay);
														}
														else {
															$('#customer_length_stay').val('N/A');
														}
														$('#customer_reason_visit').text(data.customer[0].customer_reason_visit);
														$('#customer_cdd').text(data.customer[0].customer_cdd);
														$('#customer_sof').text(data.customer[0].customer_sof)


													}

													function caribedev_view_customer_error() {
														alert('Sorry, here was an error listing the item');

													}
												}

												function caribedev_view_transaction(channel,transaction_uuid,user){
													$method = 'GET';
													//$url = caribedevelopers_server + "/transaction/" + customer_uuid;
													$url = caribedevelopers_server + "/transaction/" + '2ff19cd2-a7e3-43e2-947e-31bd2ffe6012';
													$.getJSON($url, function(data) {

														if (data.code == 'OK')
														{
															caribedev_view_transaction_ok(data);
														}else{
															caribedev_view_transaction_error(data);
														}
													});
												}

												function caribedev_view_transaction_ok (data){
													if(data.transaction.length>0){
														$('#transaction_amount').val(data.transaction[0].transaction_amount);
														$('#transaction_currency').val(data.transaction[0].transaction_currency);
														$('#transaction_relation_contact_person').val(data.transaction[0].transaction_relation_contact_person);
														$('#transaction_know_contact_person').val(data.transaction[0].transaction_know_contact_person);
														$('#transaction_reason').val(data.transaction[0].transaction_reason);
														$('#transaction_branch_id').val(data.transaction[0].transaction_branch_id);
														$('#transaction_employee').val(data.transaction[0].transaction_employee);
														$('#transaction_type').val(data.transaction[0].transaction_type);
														$('#transaction_mtcn_number').val(data.transaction[0].transaction_mtcn_number);
														$('#transaction_reason_refund').val(data.transaction[0].transaction_reason_refund);
														$('#transaction_reported_mot').val(data.transaction[0].transaction_reported_mot)
													}
													function caribedev_view_transaction_error() {
														alert('Sorry, here was an error listing the item');
													}
												}




												function caribedev_list_country(data) {

													$method = 'GET';

													$url = caribedevelopers_server + "/country"


													$.getJSON($url, function (data) {

														if (data.code == 'OK') {
															caribedev_list_country_ok(data);
														}
													});

												}



												function caribedev_list_country_ok(data)
												{



													if (data.country.length > 0)
													{

														for (i = 0; i < data.country.length; i++)
														{


															$("#country").append('<option value="' + data.country[i].country_id + '">' + data.country[i].country_description + '</option>');

														}
													}

												}

												$(document).ready(function() {
													caribedev_list_country();
												});



												function caribedev_list_transaction_profile_send(customer_uuid) {

													$method = 'GET';

													$url = caribedevelopers_server + "/transaction_profile"

													$.getJSON($url, function (data) {

														if (data.code == 'OK') {
															caribedev_list_transaction_profile_send_ok(data);
														}
													});

												}

												function caribedev_list_transaction_profile_send_ok(data) {


													for (i = 0; i < data.transaction_profile.length; i++) {

														var x_relationshipt = ['Father', 'Mother', 'Son', 'Daughter', 'Brother', 'Sister', 'Grandson', 'Granddaughter', 'Grandfather', 'Grandmother', 'Nephew', 'Niece', 'Uncle', 'Aunt', 'Friend', 'Wife', 'Husband'];
														var x_reason = ["Help", "Maintenance", "Services pay","Other"];

														if (data.transaction_profile[i].transaction_profile_type){
															$("#tbl_transaction_profile_send").append("<tr><td>" + data.transaction_profile[i].transaction_profile_full_name_ce + "</td><td>"+ data.transaction_profile[i].transaction_profile_country_ce + "</td><td>" + x_relationshipt[data.transaction_profile[i].transaction_profile_relationship_to_ce ] + "</td><td>" + x_reason[data.transaction_profile[i].transaction_profile_reason_ce ]+ "</td></tr>");

														}
													}
												}


												function caribedev_list_transaction_profile_recieve(customer_uuid) {

													$method = 'GET';

													$url = caribedevelopers_server + "/transaction_profile"

													$.getJSON($url, function (data) {

														if (data.code == 'OK') {
															caribedev_list_transaction_profile_recieve_ok(data);
														}
													});

												}

												function caribedev_list_transaction_profile_recieve_ok(data) {

													for (i = 0; i < data.transaction_profile.length; i++) {

														var x_relationshipt = ['Father', 'Mother', 'Son', 'Daughter', 'Brother', 'Sister', 'Grandson', 'Granddaughter', 'Grandfather', 'Grandmother', 'Nephew', 'Niece', 'Uncle', 'Aunt', 'Friend', 'Wife', 'Husband'];
														var x_reason = ["Help", "Maintenance", "Services pay", "Other"];

														if (!data.transaction_profile[i].transaction_profile_type){

															$("#tbl_transaction_profile_recieve").append("<tr><td>" + data.transaction_profile[i].transaction_profile_full_name_ce + "</td><td>"+ data.transaction_profile[i].transaction_profile_country_ce + "</td><td>" + x_relationshipt[data.transaction_profile[i].transaction_profile_relationship_to_ce ] + "</td><td>" + x_reason[data.transaction_profile[i].transaction_profile_reason_ce ]+ "</td></tr>");

														}
													}
												}







												</script>

											</body>
											</html>
