
<html>
<body>
	<input disabled hidden name="transaction_uuid" id="transaction_uuid">
	<input disabled hidden name="customer_uuid" id="customer_uuid">
	<input disabled hidden name="transaction_profile_type" id="transaction_profile_type">
	<table width="100%"  cellspacing="2">
		<th colspan="4">KYC</th>
		<tr>
			<td colspan="3"></td>
			<td>Numero de tarjeta WU:  <label id="customer_wu_card_number" name="customer_wu_card_number"></td>
			</tr>
			<tr>
				<td colspan="4"><u><b>PERSONALIA: (igual que en su documento)</b></u></td>
			</tr>
			<tr>
				<td colspan="4">Nombre (s): <label id="customer_first_name" name="customer_first_name"></label></td>
			</tr>
			<tr>
				<td colspan="4">Apellido (s): <label id="customer_last_name" name="customer_last_name"></label></td>
			</tr>
			<tr>
				<td colspan= "2">Fecha de nacimiento (DD/MM/AA): <label id="customer_date_birth" name="customer_date_birth"></label></td>
				<td colspan= "2">Ciudad natal: <label id="customer_place_birth" name="customer_place_birth"></label></td>
			</tr>

			<tr>
				<td colspan= "2">Pais de nacimiento: <label id="country_id" name="country_id"></label></td>
				<select class="form-control input-lg" id="country" name="country" hidden>
					<option>Country ID?</option>
				</select>
				<td colspan= "2">Nacionalidad: <label id="customer_nacionality" name="customer_nacionality"></label></td>
			</tr>
			<tr>
				<td height="30"></td>
			</tr>
			<tr><td><u><b>Identificacion</b></u></td>
				<td><input type="checkbox" id="customer_type_id_card_cedula" name="customer_type_id_card_cedula" value="1" disabled>Cedula de Aruba</td>
				<td><input type="checkbox" id="customer_type_id_card_licencia" name="customer_type_id_card_cedula" value="2" disabled>Licencia de conducir de Aruba</td>
				<td><input type="checkbox" id="customer_type_id_card_pasaporte" name="customer_type_id_card_pasaporte" value="3" disabled>Pasaporte</td>

			</tr>
			<tr>
				<td align="center"colspan="4">Fecha de expiracion (DD/MM/AAAA)</td>
			</tr>
			<tr>
				<td height="30"></td>
			</tr>
			<tr>
				<td><u><b>Residencia</b><u></td>
					customer_resident_r
					<td><input type="checkbox" id="customer_resident_r" name="customer_resident_r" value="1" disabled>Residente</td>
					<td colspan= "2"><input type="checkbox" id="customer_resident_nr" name="customer_resident_nr
						" value="2" disabled>No Residente</b><u></td>
					</tr>
					<tr>
						<td colspan="4">Direccion en Aruba: <label id="customer_address_1" name="customer_address_1"></label></td>
					</tr>
					<tr>
						<td colspan="2">Cidudad:  <label id="customer_city" name="customer_city"></label></td>
						<td colspan="2">Numero de telefono #: <label id="customer_phone" name="customer_phone"></label></td>
					</tr>
					<tr>
						<td colspan="4">Correo Electronico</td>
					</tr>
					<tr>

						<td height="30"></td>
					</tr>
					<tr>
						<td colspan="4"><u><b>No residente (Tambien debe llenar esta seccion)</b><u></td>
						</tr>
						<tr>
							<td colspan="4">(Direccion en el extranjero)</td>
						</tr>
						<tr>
							<td colspan="2">Ciudad: <label id="customer_state_province_region" name="customer_state_province_region"></label></td>
							<td colspan="2">Codigo Postal: <label id="customer_postal_code" name="customer_postal_code"></label></td>

						</tr>
						<tr>
							<td colspan="2">Pais: <label id="country_id_address" name="country_id_address"></label></td>
							<td colspan="2">Numero de telefono (extranjero): <label id="customer_mobile" name="customer_mobile"></label></td>
						</tr>
						<tr>
							<td colspan="2">Motivo de visita en aruba: <label id="customer_reason_visit" name="customer_reason_visit"></label></td>
							<td colspan="2">Duracion de estadia:  <label id="customer_length_stay" name="customer_length_stay"></label></td>
						</tr>
						<tr>
							<td colspan="4" bgcolor="gray"></td>
						</tr>
						<tr>

							<td height="30"></td>
						</tr>
						<tr>
							<td colspan="4"><u><b>Declaracion de ingresos</b><u></td>
							</tr>
							<tr>

								<td ><input type="checkbox" id="customer_income_option_1" name="customer_income_option_1" disabled>Empleado</td>
								<td ><input type="checkbox" id="customer_income_option_2" name="customer_income_option_2" disabled>Desempleado</td>
								<td colspan= "2">Desde<label id="since" name="since"></label></td>
							</tr>
							<tr>
								<td colspan="4">Nombre de la compania/ empleador:  <label id="customer_employer_name" name="customer_employer_name"></label></td>
							</tr>
							<tr>
								<td colspan="2">Ocupacion:  <label id="customer_occupation" name="customer_occupation"></label> </td>
								<td colspan="2">Departamento:  <label id="customer_department" name="customer_department"></label></td>
							</tr>
							<tr>
								<td colspan="2">Dirreccion de la compania/ empleador:  <label id="customer_employer_address" name="customer_employer_address"></label> </td>
								<td colspan="2">Telefono de la compania/ empleador:  <label id="customer_telnr_employer" name="customer_telnr_employer"></label></td>
							</tr>

							<tr>
							<td colspan="1">Promedio de salario neto <label id="customer_avg_net_sallary" name="customer_avg_net_sallary"></label> </td>
								<td ><input type="checkbox"  id="customer_avg_net_sallary_semanal" name="customer_avg_net_sallary_semanal" value="1" disabled>Semanal</td>
								<td ><input type="checkbox"  id="customer_avg_net_sallary_quincenal" name="customer_avg_net_sallary_quincenal"value="2" disabled>Quincenal</td>
								<td ><input type="checkbox"  id="customer_avg_net_sallary_mensual" name="customer_avg_net_sallary_mensual" value="3" disabled>Mensual</td>

							</tr>
							<tr>
								<td height="30"></td>
							</tr>
							<tr>
								<td colspan="4"><u><b>Aditional Income</b><u></td>
								</tr>
								<tr>
									<td>Type de ingresos<label id="customer_type_income" name="customer_type_income"></label></td>
									<td ><input type="checkbox"id="" name="" value=""disabled>Negocio propio</td>
									<td ><input type="checkbox"id="" name="" value=""disabled>Renta</td>
									<td ><input type="checkbox"id="" name="" value=""disabled>Propina</td>
									<td ><input type="checkbox"id="" name="" value=""disabled>Otros</td>


								</tr>

								<tr>
									<td colspan="4">Especificar</label></td>
								</tr>
								<tr>
									<td colspan="1">Promedio de ingreso neto <label id="customer_avg_net_sallary" name="customer_avg_net_sallary"></label> </td>
									<td ><input type="checkbox" value=""disabled>Diario</td>
									<td ><input type="checkbox" value=""disabled>Semanal</td>
									<td ><input type="checkbox" value=""disabled>Quincenal</td>
									<td ><input type="checkbox" value=""disabled>Mensual</td>
								</tr>
								<tr>
									<td height="30"></td>
								</tr>
								<tr>
									<td colspan="4"><u><b>Estudiantes</b><u></td>
									</tr>
									<tr>
										<td colspan="2">Nombre de colegio:  <label id="customer_school_name" name="customer_school_name"></label></td>
										<td colspan="2">Curso/ grado:  <label id="customer_school_course_grade" name="customer_school_course_grade"></label></td>
									</tr>
									<tr>
										<td height="30"></td>
									</tr>
									<tr>
										<td colspan="4"><u><b>TRANSACCIONES</b><u></td>
										</tr>
										<tr>
											<td height="30"></td>
										</tr>
										<tr>
											<td colspan="4"><u><b>Enviados</b></u></td>
										</tr>
										<tr>
											<td colspan="4"> Cuantas transacciones va a enviar durante el mes?</td>
										</tr>
										<tr>
											<td colspan="4"> Cual es el maximo de transacciones que va a enviar durante el mes?</td>
										</tr>
										<tr>
											<td height="30"></td>
										</tr>
										<table id="tbl_transaction_profile_send" name="tbl_transaction_profile_send" border="3" width="50%">
											<thead>
												<tr>
													<th data-column-id="transaction_profle_full_name_ce">Nombre completo del beneficiario</th>
													<th data-column-id="transaction_profile_country_ce">Pais</th>
													<th data-column-id="transaction_profle_full_name_ce">Relacion</th>
													<th data-column-id="transaction_profle_full_name_ce">Motivo</th>
												</tr>
											</thead>
											<tbody>
											</tbody>
										</table>
										<table width="100%" cellspacing="2">
											<tr>
												<td height="30"></td>
											</tr>
											<tr>
												<td colspan="4"><u><b>Recibidos</b></u></td>
											</tr>
											<tr>
												<td colspan="4">Cuantas transacciones va a recibir durante el mes?</td>
											</tr>
											<tr>
												<td colspan="4">Cual es el maximo de transacciones que va a recibir durante el mes?</td>
											</tr>
											<tr>

												<td height="30"></td>
											</tr>
										</table>
										<table id="tbl_transaction_profile_recieve" name="tbl_transaction_profile_recieve" border="3" width="50%">
											<thead>
												<tr>
													<th data-column-id="transaction_profle_full_name_ce">Nombre completo del beneficiario</th>
													<th data-column-id="transaction_profile_country_ce">Pais</th>
													<th data-column-id="transaction_profle_full_name_ce">Relacion</th>
													<th data-column-id="transaction_profle_full_name_ce">Motivo</th>
												</tr>
											</thead>
											<tbody>
											</tbody>
										</table>
									</table>


									<script src="vendors/bower_components/jquery/dist/jquery.min.js"></script>
									<script src="js/caribedev.js"></script>
									<script type="text/javascript">

									function getParam(key) {
										// Find the key and everything up to the ampersand delimiter
										var value = RegExp("" + key + "[^&]+").exec(window.location.search);

										// Return the unescaped value minus everything starting from the equals sign or an empty string
										return unescape(!!value ? value.toString().replace(/^[^=]+./, "") : "");
									}


									$(function () {

										caribedev_view_transaction('',getParam('transaction_uuid'),'');
										caribedev_view_customer('',getParam('customer_uuid'),'');

										caribedev_list_transaction_profile_send('',getParam('transaction_uuid'),'');
										caribedev_list_transaction_profile_recieve('',getParam('transaction_uuid'),'');

									});


									function caribedev_view_customer(channel, customer_uuid, user) {

										$method = 'GET';

										$url = caribedevelopers_server + "/customer/" + customer_uuid;
										$.getJSON($url, function (data) {

											if (data.code == 'OK') {
												caribedev_view_customer_ok(data);
											} else {

												caribedev_view_customer_error(data);
											}
										});
									}

									function caribedev_view_customer_ok(data) {



										if (data.customer.length > 0) {

											$('#customer_first_name').text(data.customer[0].customer_first_name);
											$('#customer_last_name').text(data.customer[0].customer_last_name);
											$('#customer_middle_name').text(data.customer[0].customer_middle_name);
											$('#customer_date_birth').text(data.customer[0].customer_date_birth);
											$('#customer_place_birth').text(data.customer[0].customer_place_birth);
											$('#customer_nacionality').text(data.customer[0].customer_nacionality);
											$('#customer_phone').text(data.customer[0].customer_phone);
											$('#customer_mobile').text(data.customer[0].customer_mobile);
											(data.customer[0].customer_resident ? $("#customer_resident_r[value='1']").prop("checked", "checked") : $("#customer_resident_nr[value='2']").prop("checked", "checked"));

											$('#customer_address_1').text((data.customer[0].customer_address_1));
											$('#customer_address_2').text((data.customer[0].customer_address_2));
											$('#customer_postal_code').text((data.customer[0].customer_postal_code));
											$('#customer_city').text((data.customer[0].customer_city));
											$('#country_id').text($('#country option[value="'+data.customer[0].country_id +'"]').text());
											$('#country_id_address').text($('#country option[value="'+data.customer[0].country_id +'"]').text());
											$('#customer_occupation').text((data.customer[0].customer_occupation));
											$('#customer_department').text((data.customer[0].customer_department));
											$('#customer_employer_name').text((data.customer[0].customer_employer_name));
											$('#customer_employer_address').text((data.customer[0].customer_employer_address));
											$('#customer_state_province_region').text((data.customer[0].customer_state_province_region));
											$('#customer_wu_card_number').text((data.customer[0].customer_wu_card_number));
											$('#customer_avg_net_sallary').text((data.customer[0].customer_avg_net_sallary));



											if (data.customer[0].customer_type_id_card == "1") {
												$('#customer_type_id_card_cedula').prop('checked', 'checked');
											}
											else if (data.customer[0].customer_type_id_card == "2") {
												$('#customer_type_id_card_licencia').prop('checked', 'checked');
											}
											else if (data.customer[0].customer_type_id_card == "3") {
												$('#customer_type_id_card_pasaporte').prop('checked', 'checked');

											}



									//Employed & Unemployed
											if (data.customer[0].since !="") {
												$('#customer_income_option_2').prop('checked', 'checked');
											}else{
												$('#customer_income_option_1').prop('checked', 'checked');
											}






											if (!data.customer[0].customer_resident) {
												$('#customer_length_stay').text(data.customer[0].customer_length_stay);
											}
											else {
												$('#customer_length_stay').val('N/A');
											}
											$('#customer_reason_visit').text(data.customer[0].customer_reason_visit);
											$('#customer_cdd').text(data.customer[0].customer_cdd);
											$('#customer_sof').text(data.customer[0].customer_sof)


										}

										function caribedev_view_customer_error() {
											alert('Sorry, here was an error listing the item');

										}
									}

									function caribedev_view_transaction(channel,transaction_uuid,user){
										$method = 'GET';
										//$url = caribedevelopers_server + "/transaction/" + customer_uuid;
										$url = caribedevelopers_server + "/transaction/" + '2ff19cd2-a7e3-43e2-947e-31bd2ffe6012';
										$.getJSON($url, function(data) {

											if (data.code == 'OK')
											{
												caribedev_view_transaction_ok(data);
											}else{
												caribedev_view_transaction_error(data);
											}
										});
									}

									function caribedev_view_transaction_ok (data){
										if(data.transaction.length>0){
											$('#transaction_amount').val(data.transaction[0].transaction_amount);
											$('#transaction_currency').val(data.transaction[0].transaction_currency);
											$('#transaction_relation_contact_person').val(data.transaction[0].transaction_relation_contact_person);
											$('#transaction_know_contact_person').val(data.transaction[0].transaction_know_contact_person);
											$('#transaction_reason').val(data.transaction[0].transaction_reason);
											$('#transaction_branch_id').val(data.transaction[0].transaction_branch_id);
											$('#transaction_employee').val(data.transaction[0].transaction_employee);
											$('#transaction_type').val(data.transaction[0].transaction_type);
											$('#transaction_mtcn_number').val(data.transaction[0].transaction_mtcn_number);
											$('#transaction_reason_refund').val(data.transaction[0].transaction_reason_refund);
											$('#transaction_reported_mot').val(data.transaction[0].transaction_reported_mot)
										}
										function caribedev_view_transaction_error() {
											alert('Sorry, here was an error listing the item');
										}
									}




									function caribedev_list_country(data) {

										$method = 'GET';

										$url = caribedevelopers_server + "/country"


										$.getJSON($url, function (data) {

											if (data.code == 'OK') {
												caribedev_list_country_ok(data);
											}
										});

									}



									function caribedev_list_country_ok(data)
									{



										if (data.country.length > 0)
										{

											for (i = 0; i < data.country.length; i++)
											{


												$("#country").append('<option value="' + data.country[i].country_id + '">' + data.country[i].country_description + '</option>');

											}
										}

									}

									$(document).ready(function() {
										caribedev_list_country();
									});



									function caribedev_list_transaction_profile_send(customer_uuid) {

										$method = 'GET';

										$url = caribedevelopers_server + "/transaction_profile"

										$.getJSON($url, function (data) {

											if (data.code == 'OK') {
												caribedev_list_transaction_profile_send_ok(data);
											}
										});

									}

									function caribedev_list_transaction_profile_send_ok(data) {


										for (i = 0; i < data.transaction_profile.length; i++) {

											var x_relationshipt = ['Padre', 'Madre', 'Hijo', 'Hija', 'Hermano', 'Hermana', 'Nieto', 'Nieta', 'Abuelo', 'Abuela', 'Sobrino', 'Sobrina', 'Tio', 'Tia', 'Amigo', 'Esposa', 'Esposo'];
											var x_reason = ["Ayuda", "Manutencion", "Pago de servicios","Otro"];

											if (data.transaction_profile[i].transaction_profile_type){
												$("#tbl_transaction_profile_send").append("<tr><td>" + data.transaction_profile[i].transaction_profile_full_name_ce + "</td><td>"+ data.transaction_profile[i].transaction_profile_country_ce + "</td><td>" + x_relationshipt[data.transaction_profile[i].transaction_profile_relationship_to_ce ] + "</td><td>" + x_reason[data.transaction_profile[i].transaction_profile_reason_ce ]+ "</td></tr>");

											}
										}
									}


									function caribedev_list_transaction_profile_recieve(customer_uuid) {

										$method = 'GET';

										$url = caribedevelopers_server + "/transaction_profile"

										$.getJSON($url, function (data) {

											if (data.code == 'OK') {
												caribedev_list_transaction_profile_recieve_ok(data);
											}
										});

									}

									function caribedev_list_transaction_profile_recieve_ok(data) {

										for (i = 0; i < data.transaction_profile.length; i++) {

											var x_relationshipt = ['Padre', 'Madre', 'Hijo', 'Hija', 'Hermano', 'Hermana', 'Nieto', 'Nieta', 'Abuelo', 'Abuela', 'Sobrino', 'Sobrina', 'Tio', 'Tia', 'Amigo', 'Esposa', 'Esposo'];
											var x_reason = ["Ayuda", "Manutencion", "Pago de servicios","Otro"];

											if (!data.transaction_profile[i].transaction_profile_type){

												$("#tbl_transaction_profile_recieve").append("<tr><td>" + data.transaction_profile[i].transaction_profile_full_name_ce + "</td><td>"+ data.transaction_profile[i].transaction_profile_country_ce + "</td><td>" + x_relationshipt[data.transaction_profile[i].transaction_profile_relationship_to_ce ] + "</td><td>" + x_reason[data.transaction_profile[i].transaction_profile_reason_ce ]+ "</td></tr>");

											}
										}
									}







									</script>

								</body>
								</html>
